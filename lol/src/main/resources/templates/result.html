<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>검색 결과</title>
    <link rel="icon" type="image/png" href="/images/wepSiteLogo.png">
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* 🎨 personal.html 기본 디자인 요소들 */
        body {
            background-image: url('/images/background.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
        }

        /* ⬇️ 상단 검은색 그라디언트 효과 */
        .top-gradient {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background: linear-gradient(to bottom,
                rgba(0, 0, 0, 1) 0%,
                rgba(0, 0, 0, 0.95) 5%,
                rgba(0, 0, 0, 0.9) 10%,
                rgba(0, 0, 0, 0.85) 15%,
                rgba(0, 0, 0, 0.8) 20%,
                rgba(0, 0, 0, 0.75) 25%,
                rgba(0, 0, 0, 0.7) 30%,
                rgba(0, 0, 0, 0.65) 35%,
                rgba(0, 0, 0, 0.6) 40%,
                rgba(0, 0, 0, 0.55) 45%,
                rgba(0, 0, 0, 0.5) 50%,
                rgba(0, 0, 0, 0.45) 55%,
                rgba(0, 0, 0, 0.4) 60%,
                rgba(0, 0, 0, 0.35) 65%,
                rgba(0, 0, 0, 0.3) 70%,
                rgba(0, 0, 0, 0.25) 75%,
                rgba(0, 0, 0, 0.2) 80%,
                rgba(0, 0, 0, 0.15) 85%,
                rgba(0, 0, 0, 0.1) 90%,
                rgba(0, 0, 0, 0.05) 95%,
                rgba(0, 0, 0, 0) 100%
            );
            z-index: 999; /* 헤더보다 살짝 낮게 */
            pointer-events: none; /* 클릭 이벤트 통과 */
        }

        /* 🏷️ 헤더 로고 */
        .header-logo {
            position: fixed;
            top: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* z-index 값 명확히 설정 */
            pointer-events: none; /* 헤더 자체는 클릭 막기 */
        }

        .header-logo img,
        .header-logo span {
            pointer-events: auto; /* 로고와 텍스트만 클릭 가능 */
        }

        .logo-icon {
            height: 30px;
            margin-right: 10px;
        }

        /* 📄 메인 컨텐츠 영역 */
        .main-content {
            position: relative;
            z-index: 3;
            padding-top: 100px; /* 줄여서 더 자연스럽게 */
        }

        /* 🌟 개인화 분석 버튼 (personal.html 스타일) */
        .personal-analysis-btn {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
            position: relative; /* fixed 제거 */
            overflow: hidden;
            cursor: pointer;
            text-decoration: none;
            display: block;
            text-align: center;
            width: 150px; /* 고정 폭 설정 */
        }

        .personal-analysis-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .personal-analysis-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .personal-analysis-btn:hover::before {
            opacity: 1;
        }

        .personal-analysis-btn .btn-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .personal-analysis-btn .btn-title {
            color: #4ecdc4;
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .personal-analysis-btn .btn-desc {
            color: #aaa;
            font-size: 0.9rem;
        }

        /* 기존 매치 스타일들 */
        .match-win {
            background: #17255A;
            border-left: 6px solid #284AC7;
            position: relative;
        }
        .match-lose {
            background: #973939;
            border-left: 6px solid #DE1815;
            position: relative;
        }
        .color-bar-win {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: #284AC7;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .color-bar-lose {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: #DE1815;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .dropdown-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .dropdown-content.active {
            max-height: 2000px;
            transition: max-height 0.5s ease-in;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
<!-- 상단 검은색 그라디언트 -->
<div class="top-gradient"></div>

<!-- 헤더 로고 -->
<div class="header-logo">
    <img src="/images/siteLogo.png" alt="Site Logo" class="logo-icon">
    <img src="/images/smallLogo.png" alt="Luminary" class="small-logo">
</div>

<div class="container mx-auto p-5 main-content">
    <!-- 프로필 섹션 + 개인화 분석 버튼 -->
    <div class="flex items-center justify-between p-5 rounded-lg shadow-lg mb-6" style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1);">
        <!-- 왼쪽: 프로필 정보 -->
        <div class="flex items-center">
            <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/profileicon/'+${userdata.profileIconId}+'.png'"
                 class="w-24 h-24 rounded-full border-4 border-gray-700">

            <div class="ml-6">
                <h3 class="text-xl font-semibold" style="color: rgba(255, 255, 255, 0.9);">🎮 프로필</h3>
                <p class="text-lg font-bold" style="color: rgba(255, 255, 255, 0.95);">
                    <span th:text="${gameName}"></span>#<span th:text="${tagLine}"></span>
                </p>
                <p style="color: rgba(255, 255, 255, 0.8);">
                    <span>Lv. </span><span th:text="${userdata.summonerLevel}"></span>
                </p>
            </div>
        </div>

        <!-- 중앙: 검색 결과 제목 -->
        <div class="text-center flex-1 mx-8">
            <h1 class="text-3xl font-bold mb-1" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-shadow: 0 0 30px rgba(102, 126, 234, 0.3);">
                ✨ MATCH HISTORY
            </h1>
            <p class="text-gray-300 text-sm font-medium opacity-80">Game Analysis & Performance Review</p>
        </div>

        <!-- 오른쪽: 개인화 분석 버튼 -->
        <div class="flex-shrink-0">
            <a th:href="@{/personal(gameName=${gameName}, tagLine=${tagLine})}" class="personal-analysis-btn">

            <span class="btn-icon">🌟</span>
                <div class="btn-title">개인화 분석</div>
                <div class="btn-desc">AI 맞춤 분석 받기</div>
            </a>
        </div>
    </div>

    <!-- 리그 정보 -->
    <div class="mt-6">
        <h2 class="text-2xl font-semibold mb-4" style="color: rgba(255, 255, 255, 0.9);">🏆 리그 정보</h2>
        <div th:each="league : ${LeagueList}"
             class="p-5 mt-3 rounded-lg shadow flex items-center justify-between"
             style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1);">
            <div>
                <p style="color: rgba(255, 255, 255, 0.9);"><strong>큐 타입:</strong> <span th:text="${league.queueType}"></span></p>
                <p style="color: rgba(255, 255, 255, 0.9);"><strong>리그 포인트:</strong> <span th:text="${league.leaguePoints}"></span> LP</p>
                <p style="color: rgba(255, 255, 255, 0.9);"><strong>승리:</strong> <span th:text="${league.wins}"></span> | <strong>패배:</strong> <span th:text="${league.losses}"></span></p>
                <p style="color: rgba(255, 255, 255, 0.9);"><strong>티어:</strong> <span th:text="${league.tier}"></span> <span th:text="${league.rank}"></span></p>
            </div>
            <img class="w-24 mt-2" th:src="@{'/images/Rank=' + ${league.tier} + '.png'}">
        </div>
    </div>

    <div th:if="${#lists.isEmpty(LeagueList)}"
         class="mt-6 p-8 rounded-lg"
         style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1);">
        <div class="flex items-center justify-between">
            <div>
                <h3 class="text-xl font-semibold mb-2" style="color: rgba(255, 255, 255, 0.9);">🎯 랭크 정보 없음</h3>
                <p class="text-gray-300">랭크 게임 데이터를 가져올 수 없습니다</p>
                <p class="text-sm text-gray-400 mt-2">• API 응답에 랭크 정보가 없음</p>
                <p class="text-sm text-gray-400">• 최근에 랭크 게임을 플레이하지 않았을 수 있음</p>
                <p class="text-sm text-gray-400">• 시즌 리셋 후 배치고사 미완료</p>
            </div>
            <img class="w-24 opacity-70" src="/images/Rank=UNRANKED.png" alt="언랭크"
                 onerror="this.src='/images/Rank=Unrank.png'; this.onerror=function(){this.src='/images/unrank.png'; this.onerror=function(){this.style.display='none';};};">
        </div>
    </div>

    <!-- 최근 경기 -->
    <h2 class="text-2xl font-semibold mt-10">최근 경기</h2>

    <div th:each="match, iterStat : ${matchDataList}" class="mt-3">
        <!-- 매치 요약 카드 -->
        <div th:each="player : ${match.info.participants}"
             th:if="${player.riotIdGameName != null and #strings.toLowerCase(player.riotIdGameName) == #strings.toLowerCase(gameName)}"
             th:class="${player.win} ? 'match-win' : 'match-lose'"
             class="p-4 rounded-lg cursor-pointer hover:opacity-90"
             th:onclick="'toggleDropdown(' + ${iterStat.index} + ')'">

            <div class="flex items-center justify-between pr-12">
                <!-- 왼쪽: 플레이어 정보 -->
                <div class="flex items-center space-x-4">
                    <!-- 게임 타입과 시간 -->
                    <div class="text-center" style="margin-left: 20px">
                        <div class="text-sm font-semibold">
                                <span th:if="${match.info.queueId != null}">
                                    <span th:text="${match.info.queueId == 420} ? '솔로랭크' :
                                                   (${match.info.queueId == 440} ? '자유랭크' :
                                                   (${match.info.queueId == 450} ? '무작위 총력전' :
                                                   (${match.info.queueId == 400} ? '일반' : '기타')))"></span>
                                </span>
                            <span th:unless="${match.info.queueId != null}">일반</span>
                        </div>
                        <div th:class="${player.win} ? 'text-blue-300' : 'text-red-300'" class="text-xs font-bold">
                            <span th:text="${player.win} ? '승리' : '패배'"></span>
                        </div>
                        <div class="text-xs">
                                <span th:if="${match.info.gameDuration != null}"
                                      th:text="${#numbers.formatInteger(match.info.gameDuration / 60, 0)} + '분 ' + ${#numbers.formatInteger(match.info.gameDuration % 60, 0)} + '초'"></span>
                            <span th:unless="${match.info.gameDuration != null}">게임 시간 정보 없음</span>
                        </div>
                    </div>

                    <!-- 플레이어가 사용한 챔피언과 KDA -->
                    <div class="flex items-center space-x-4">
                        <!-- 챔피언 이미지와 스펠 -->
                        <div class="flex items-center space-x-2">
                            <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/champion/'+ ${player.championName}+'.png'"
                                 class="w-12 h-12 rounded-full">
                            <!-- 소환사 스펠 (세로 배치) -->
                            <div class="flex flex-col space-y-1">
                                <!-- 첫 번째 스펠 -->
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerFlash.png'"
                                     th:if="${player.summoner1Id == 4}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerDot.png'"
                                     th:if="${player.summoner1Id == 14}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHeal.png'"
                                     th:if="${player.summoner1Id == 7}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerTeleport.png'"
                                     th:if="${player.summoner1Id == 12}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerExhaust.png'"
                                     th:if="${player.summoner1Id == 3}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBarrier.png'"
                                     th:if="${player.summoner1Id == 21}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerSmite.png'"
                                     th:if="${player.summoner1Id == 11}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBoost.png'"
                                     th:if="${player.summoner1Id == 1}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHaste.png'"
                                     th:if="${player.summoner1Id == 6}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <div th:unless="${player.summoner1Id == 4 or player.summoner1Id == 14 or player.summoner1Id == 7 or player.summoner1Id == 12 or player.summoner1Id == 3 or player.summoner1Id == 21 or player.summoner1Id == 11 or player.summoner1Id == 1 or player.summoner1Id == 6}"
                                     class="w-5 h-5 bg-gray-600 rounded text-xs flex items-center justify-center text-white" th:text="${player.summoner1Id}"></div>

                                <!-- 두 번째 스펠 -->
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerFlash.png'"
                                     th:if="${player.summoner2Id == 4}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerDot.png'"
                                     th:if="${player.summoner2Id == 14}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHeal.png'"
                                     th:if="${player.summoner2Id == 7}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerTeleport.png'"
                                     th:if="${player.summoner2Id == 12}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerExhaust.png'"
                                     th:if="${player.summoner2Id == 3}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBarrier.png'"
                                     th:if="${player.summoner2Id == 21}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerSmite.png'"
                                     th:if="${player.summoner2Id == 11}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBoost.png'"
                                     th:if="${player.summoner2Id == 1}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHaste.png'"
                                     th:if="${player.summoner2Id == 6}"
                                     class="w-5 h-5 rounded border border-gray-500">
                                <div th:unless="${player.summoner2Id == 4 or player.summoner2Id == 14 or player.summoner2Id == 7 or player.summoner2Id == 12 or player.summoner2Id == 3 or player.summoner2Id == 21 or player.summoner2Id == 11 or player.summoner2Id == 1 or player.summoner2Id == 6}"
                                     class="w-5 h-5 bg-gray-600 rounded text-xs flex items-center justify-center text-white" th:text="${player.summoner2Id}"></div>
                            </div>
                        </div>

                        <!-- KDA -->
                        <div class="text-center">
                            <div class="text-sm text-gray-300 mb-1" th:text="${player.riotIdGameName}"></div>
                            <div class="font-bold text-lg" th:text="${player.kills} + '/' + ${player.deaths} + '/' + ${player.assists}"></div>
                            <div class="text-xs text-gray-200">KDA</div>
                        </div>

                        <!-- 사용한 아이템 -->
                        <div class="flex space-x-1">
                            <img th:each="item : ${player.items}"
                                 th:if="${item != 0}"
                                 th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/item/' + ${item} + '.png'"
                                 class="w-8 h-8 rounded border border-gray-500"
                                 th:title="'아이템 ID: ' + ${item}">
                        </div>
                    </div>
                </div>

                <!-- 오른쪽: 같이 플레이한 유저들 미리보기 -->
                <div class="flex items-center space-x-4">
                    <!-- 승리팀 미리보기 (5명) -->
                    <div class="text-xs w-32">
                        <div class="text-blue-300 font-semibold mb-1">승리팀</div>
                        <div class="space-y-1">
                            <div th:each="teamPlayer : ${match.info.participants}"
                                 th:if="${teamPlayer.win}" class="flex items-center space-x-1">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/champion/'+ ${teamPlayer.championName}+'.png'"
                                     class="w-4 h-4 rounded flex-shrink-0">
                                <span th:text="${teamPlayer.riotIdGameName}" class="truncate text-xs leading-4"></span>
                            </div>
                        </div>
                    </div>

                    <!-- 패배팀 미리보기 (5명) -->
                    <div class="text-xs w-32">
                        <div class="text-red-300 font-semibold mb-1">패배팀</div>
                        <div class="space-y-1">
                            <div th:each="teamPlayer : ${match.info.participants}"
                                 th:if="${!teamPlayer.win}" class="flex items-center space-x-1">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/champion/'+ ${teamPlayer.championName}+'.png'"
                                     class="w-4 h-4 rounded flex-shrink-0">
                                <span th:text="${teamPlayer.riotIdGameName}" class="truncate text-xs leading-4"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 오른쪽 색상바와 화살표 -->
            <div th:class="${player.win} ? 'color-bar-win' : 'color-bar-lose'">
                <svg class="w-6 h-6 text-white transform transition-transform" th:id="'arrow-' + ${iterStat.index}">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
            </div>
        </div>

        <!-- 드롭다운 상세 정보 -->
        <div th:id="'dropdown-' + ${iterStat.index}" class="dropdown-content bg-gray-800 rounded-lg mt-1">
            <div class="p-4">
                <!-- 승리팀 테이블 -->
                <table class="w-full border-collapse mb-4">
                    <thead>
                    <tr style="background-color: #7B7A8E;">
                        <th class="p-3 text-left text-blue-400 font-bold">승리</th>
                        <th class="p-3 text-left text-white font-medium">소환사 이름</th>
                        <th class="p-3 text-center text-white font-medium">스펠</th>
                        <th class="p-3 text-center text-white font-medium">KDA</th>
                        <th class="p-3 text-center text-white font-medium">아이템</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="player : ${match.info.participants}"
                        th:if="${player.win}" class="border-l-4 border-blue-500" style="background-color: #17255A;">
                        <td class="p-3">
                            <div class="flex items-center space-x-2">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/champion/'+ ${player.championName}+'.png'"
                                     class="w-10 h-10 rounded">
                                <span class="text-white font-medium" th:text="${player.championName}"></span>
                            </div>
                        </td>
                        <td class="p-3">
                            <span class="text-white" th:text="${player.riotIdGameName}"></span>
                        </td>
                        <td class="p-3 text-center">
                            <div class="flex justify-center space-x-1">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerFlash.png'"
                                     th:if="${player.summoner1Id == 4}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerDot.png'"
                                     th:if="${player.summoner1Id == 14}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHeal.png'"
                                     th:if="${player.summoner1Id == 7}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerTeleport.png'"
                                     th:if="${player.summoner1Id == 12}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerExhaust.png'"
                                     th:if="${player.summoner1Id == 3}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBarrier.png'"
                                     th:if="${player.summoner1Id == 21}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerSmite.png'"
                                     th:if="${player.summoner1Id == 11}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBoost.png'"
                                     th:if="${player.summoner1Id == 1}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHaste.png'"
                                     th:if="${player.summoner1Id == 6}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <div th:unless="${player.summoner1Id == 4 or player.summoner1Id == 14 or player.summoner1Id == 7 or player.summoner1Id == 12 or player.summoner1Id == 3 or player.summoner1Id == 21 or player.summoner1Id == 11 or player.summoner1Id == 1 or player.summoner1Id == 6}"
                                     class="w-6 h-6 bg-gray-600 rounded text-xs flex items-center justify-center text-white" th:text="${player.summoner1Id}"></div>

                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerFlash.png'"
                                     th:if="${player.summoner2Id == 4}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerDot.png'"
                                     th:if="${player.summoner2Id == 14}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHeal.png'"
                                     th:if="${player.summoner2Id == 7}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerTeleport.png'"
                                     th:if="${player.summoner2Id == 12}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerExhaust.png'"
                                     th:if="${player.summoner2Id == 3}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBarrier.png'"
                                     th:if="${player.summoner2Id == 21}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerSmite.png'"
                                     th:if="${player.summoner2Id == 11}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBoost.png'"
                                     th:if="${player.summoner2Id == 1}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHaste.png'"
                                     th:if="${player.summoner2Id == 6}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <div th:unless="${player.summoner2Id == 4 or player.summoner2Id == 14 or player.summoner2Id == 7 or player.summoner2Id == 12 or player.summoner2Id == 3 or player.summoner2Id == 21 or player.summoner2Id == 11 or player.summoner2Id == 1 or player.summoner2Id == 6}"
                                     class="w-6 h-6 bg-gray-600 rounded text-xs flex items-center justify-center text-white" th:text="${player.summoner2Id}"></div>
                            </div>
                        </td>
                        <td class="p-3 text-center">
                            <span class="text-white font-bold" th:text="${player.kills} + ' / ' + ${player.deaths} + ' / ' + ${player.assists}"></span>
                        </td>
                        <td class="p-3 text-center">
                            <div class="flex justify-center space-x-1 flex-wrap">
                                <img th:each="item : ${player.items}"
                                     th:if="${item != 0}"
                                     th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/item/' + ${item} + '.png'"
                                     class="w-7 h-7 rounded border border-gray-500">
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>

                <!-- 패배팀 테이블 -->
                <table class="w-full border-collapse">
                    <thead>
                    <tr style="background-color: #7B7A8E;">
                        <th class="p-3 text-left text-red-400 font-bold">패배</th>
                        <th class="p-3 text-left text-white font-medium">소환사 이름</th>
                        <th class="p-3 text-center text-white font-medium">스펠</th>
                        <th class="p-3 text-center text-white font-medium">KDA</th>
                        <th class="p-3 text-center text-white font-medium">아이템</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="player : ${match.info.participants}"
                        th:if="${!player.win}" class="border-l-4 border-red-500" style="background-color: #973939;">
                        <td class="p-3">
                            <div class="flex items-center space-x-2">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/champion/'+ ${player.championName}+'.png'"
                                     class="w-10 h-10 rounded">
                                <span class="text-white font-medium" th:text="${player.championName}"></span>
                            </div>
                        </td>
                        <td class="p-3">
                            <span class="text-white" th:text="${player.riotIdGameName}"></span>
                        </td>
                        <td class="p-3 text-center">
                            <div class="flex justify-center space-x-1">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerFlash.png'"
                                     th:if="${player.summoner1Id == 4}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerDot.png'"
                                     th:if="${player.summoner1Id == 14}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHeal.png'"
                                     th:if="${player.summoner1Id == 7}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerTeleport.png'"
                                     th:if="${player.summoner1Id == 12}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerExhaust.png'"
                                     th:if="${player.summoner1Id == 3}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBarrier.png'"
                                     th:if="${player.summoner1Id == 21}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerSmite.png'"
                                     th:if="${player.summoner1Id == 11}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBoost.png'"
                                     th:if="${player.summoner1Id == 1}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <div th:unless="${player.summoner1Id == 4 or player.summoner1Id == 14 or player.summoner1Id == 7 or player.summoner1Id == 12 or player.summoner1Id == 3 or player.summoner1Id == 21 or player.summoner1Id == 11 or player.summoner1Id == 1}"
                                     class="w-6 h-6 bg-gray-600 rounded text-xs flex items-center justify-center text-white" th:text="${player.summoner1Id}"></div>

                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerFlash.png'"
                                     th:if="${player.summoner2Id == 4}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerDot.png'"
                                     th:if="${player.summoner2Id == 14}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerHeal.png'"
                                     th:if="${player.summoner2Id == 7}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerTeleport.png'"
                                     th:if="${player.summoner2Id == 12}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerExhaust.png'"
                                     th:if="${player.summoner2Id == 3}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBarrier.png'"
                                     th:if="${player.summoner2Id == 21}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerSmite.png'"
                                     th:if="${player.summoner2Id == 11}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <img th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/spell/SummonerBoost.png'"
                                     th:if="${player.summoner2Id == 1}"
                                     class="w-6 h-6 rounded border border-gray-500">
                                <div th:unless="${player.summoner2Id == 4 or player.summoner2Id == 14 or player.summoner2Id == 7 or player.summoner2Id == 12 or player.summoner2Id == 3 or player.summoner2Id == 21 or player.summoner2Id == 11 or player.summoner2Id == 1}"
                                     class="w-6 h-6 bg-gray-600 rounded text-xs flex items-center justify-center text-white" th:text="${player.summoner2Id}"></div>
                            </div>
                        </td>
                        <td class="p-3 text-center">
                            <span class="text-white font-bold" th:text="${player.kills} + ' / ' + ${player.deaths} + ' / ' + ${player.assists}"></span>
                        </td>
                        <td class="p-3 text-center">
                            <div class="flex justify-center space-x-1 flex-wrap">
                                <img th:each="item : ${player.items}"
                                     th:if="${item != 0}"
                                     th:src="'https://ddragon.leagueoflegends.com/cdn/' + ${version} + '/img/item/' + ${item} + '.png'"
                                     class="w-7 h-7 rounded border border-gray-500">
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- 다시 검색 버튼 -->
    <div class="text-center mt-6">
        <a href="/" class="bg-blue-600 px-6 py-3 rounded-lg text-white font-bold shadow hover:bg-blue-500">다시 검색</a>
    </div>
</div>

<script>
    function toggleDropdown(index) {
        const dropdown = document.getElementById('dropdown-' + index);
        const arrow = document.getElementById('arrow-' + index);

        if (dropdown.classList.contains('active')) {
            dropdown.classList.remove('active');
            arrow.style.transform = 'rotate(0deg)';
        } else {
            dropdown.classList.add('active');
            arrow.style.transform = 'rotate(180deg)';
        }
    }
</script>

</body>
</html>